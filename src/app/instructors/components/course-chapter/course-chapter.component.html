<div class="accordion accordion-icon accordion-bg-light" id="accordionExample2">
  <!-- Item START -->
  <div class="accordion-item mb-3">
    <h6 class="accordion-header font-base" id="heading-{{ i }}">
      <button
        class="accordion-button fw-bold rounded d-inline-block collapsed d-block pe-5"
        type="button"
        data-bs-toggle="collapse"
        [attr.data-bs-target]="'#collapse-' + i"
        aria-expanded="false"
        [attr.aria-controls]="'collapse-' + i"
      >
        {{ chapter.chapterName }}
      </button>
    </h6>

    <div
      [id]="'collapse-' + i"
      class="accordion-collapse collapse show"
      [attr.aria-labelledby]="'heading-' + i"
      data-bs-parent="#accordionExample2"
    >
      <!-- Topic START -->
      <div class="accordion-body">
        <!-- Video item START -->
        <div *ngIf="chapter.topics">
          <div
            class="d-flex justify-content-between"
            *ngFor="let topic of chapter.topics; let j = index"
          >
            <div>
              <span class="btn btn-danger-soft btn-round"
                ><i class="fa-solid fa-play"></i
              ></span>
              <span
                *ngIf="!isEditTopicInputShown || selectedTopicIndex !== j"
                class="ms-2 mb-0 h6 fw-light"
              >
                {{ topic.topicName }}
              </span>

              <span *ngIf="selectedTopicIndex == j && isEditTopicInputShown">
                <input
                  class="form-control mb-1 edit-topic"
                  type="text"
                  placeholder="Enter topic name"
                  [(ngModel)]="editedTopicName"
                />
                <a
                  class="btn btn-primary-soft mb-0 ms-2"
                  (click)="saveEditedTopic(i, j)"
                  ><i class="bi bi-plus-circle me-2"></i>Save</a
                >
              </span>
            </div>

            <div>
              <a
                class="btn btn-sm btn-success-soft btn-round me-1 mb-1 mb-md-0"
                (click)="editTopic(topic.topicName, j)"
                ><i class="far fa-fw fa-edit"></i
              ></a>
              <button
                class="btn btn-sm btn-danger-soft btn-round mb-0"
                (click)="deleteTopic(i, j)"
              >
                <i class="fas fa-fw fa-times"></i>
              </button>
            </div>
            <!-- Add topic -->
          </div>
          <div class="text-end">
            <button
              class="btn btn-sm btn-dark mt-1"
              (click)="showTopicInput(i)"
            >
              Add topic
            </button>
          </div>
          <div *ngIf="selectedChapterIndex == i && isTopicInputShown">
            <input
              class="form-control mb-1"
              type="text"
              placeholder="Enter topic name"
              [(ngModel)]="topicName"
            />
            <div class="text-end">
              <button
                type="button"
                class="btn btn-primary-soft"
                (click)="saveTopic(i)"
              >
                Save
              </button>
            </div>
          </div>

          <!-- Edit and cancel button -->
        </div>
      </div>
      <!-- Topic END -->
    </div>
  </div>
  <!-- Item END -->
</div>
